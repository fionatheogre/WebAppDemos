<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Fetch test</title>

</head>

<body>
    <button id='b' onclick="pressed()">Click me</button>
    <img src="" id='response' style="width: 300px;" width="300px"></img>

    <script>
        function pressed(e) {
            fetch("/getimage")
                .then(function (response) { return response.text(); })
                .then(function (data) {
                    console.log("returned filename: " + data);
                    document.querySelector('#response').setAttribute("src", data);
                });
        }

    </script>
</body>

</html>